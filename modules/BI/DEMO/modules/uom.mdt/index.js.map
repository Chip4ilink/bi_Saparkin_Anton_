{"version":3,"file":"index.js","mappings":"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","sources":["webpack://unit-of-measure/./src/UomFormExtender.ts","webpack://unit-of-measure/./node_modules/mdt-client/dist/index.js","webpack://unit-of-measure/./src/Commands/UOMRates.ts","webpack://unit-of-measure/./src/UomRatesListExtender.ts","webpack://unit-of-measure/./src/Constants.ts","webpack://unit-of-measure/webpack/bootstrap","webpack://unit-of-measure/./src/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UomFormExtender = void 0;\nconst Constants_1 = require(\"Constants\");\nconst mdt_client_1 = require(\"mdt-client\");\nclass UomFormExtender {\n    static init(form) {\n        var _a, _b, _c;\n        if (form.getObject().getCode() == Constants_1.DbSchema.SKU_UOMBase) {\n            form.setFieldOptions({\n                Rates: {\n                    formOptions: {\n                        $context: {\n                            uom: {\n                                getBaseUom: () => form.valueByPath(\"ID_UOM/Name\")\n                            }\n                        }\n                    }\n                }\n            });\n        }\n        if (form.getObject().getCode() == Constants_1.DbSchema.SKU_UOMRates) {\n            if (!((_c = (_b = (_a = form.getFormCtrl().options) === null || _a === void 0 ? void 0 : _a.$context) === null || _b === void 0 ? void 0 : _b.uom) === null || _c === void 0 ? void 0 : _c.getBaseUom))\n                return;\n            const getBaseUom = () => {\n                return form.getFormCtrl().options.$context.uom.getBaseUom();\n            };\n            form.setFieldOptions({\n                RecalculationRules: {\n                    formOptions: {\n                        events: {\n                            init: [\n                                (formCtrl) => {\n                                    const recalcRuleForm = new mdt_client_1.Form(formCtrl);\n                                    recalcRuleForm.setFieldOptions({\n                                        Denom: {\n                                            actions: [\n                                                {\n                                                    text: () => recalcRuleForm.valueByPath(\"ID_UOM_Target/Name\"),\n                                                    title: () => recalcRuleForm.valueByPath(\"ID_UOM_Target/Name\")\n                                                }\n                                            ],\n                                            showClearAction: false\n                                        },\n                                        Num: {\n                                            actions: [\n                                                {\n                                                    text: getBaseUom,\n                                                    title: getBaseUom\n                                                }\n                                            ],\n                                            showClearAction: false\n                                        }\n                                    });\n                                }\n                            ]\n                        }\n                    }\n                }\n            });\n        }\n    }\n}\nexports.UomFormExtender = UomFormExtender;\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.registerModule = exports.legacy = exports.modules = exports.App = exports.Schema = exports.UiComponents = exports.ModuleRegistry = exports.RecordManager = exports.CommandManager = exports.Page = exports.Auth = exports.Filter = exports.m = exports.Api = exports.Ui = exports.Utils = exports.mUtils = exports.FieldControl = exports.ControlManager = exports.Form = exports.FormService = exports.List = exports.ListService = exports.SecurityManager = exports.Navigation = exports.MDT = void 0;\r\nvar package_json_1 = __importDefault(require(\"../package.json\"));\r\nexports.MDT = window.MDT;\r\nexports.Navigation = exports.MDT.Navigation, exports.SecurityManager = exports.MDT.SecurityManager, exports.ListService = exports.MDT.ListService, exports.List = exports.MDT.List, exports.FormService = exports.MDT.FormService, exports.Form = exports.MDT.Form, exports.ControlManager = exports.MDT.ControlManager, exports.FieldControl = exports.MDT.FieldControl, exports.mUtils = exports.MDT.mUtils, exports.Utils = exports.MDT.Utils, exports.Ui = exports.MDT.Ui, exports.Api = exports.MDT.Api, exports.m = exports.MDT.m, exports.Filter = exports.MDT.Filter, exports.Auth = exports.MDT.Auth, exports.Page = exports.MDT.Page, exports.CommandManager = exports.MDT.CommandManager, exports.RecordManager = exports.MDT.RecordManager, exports.ModuleRegistry = exports.MDT.ModuleRegistry, exports.UiComponents = exports.MDT.UiComponents, exports.Schema = exports.MDT.Schema, exports.App = exports.MDT.App, exports.modules = exports.MDT.modules, exports.legacy = exports.MDT.legacy;\r\nfunction registerModule(callback, context) {\r\n    exports.MDT.registerModule(callback, {\r\n        version: package_json_1.default.version,\r\n        name: context === null || context === void 0 ? void 0 : context.name\r\n    });\r\n}\r\nexports.registerModule = registerModule;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDeleteUomRatesCommand = void 0;\nconst Constants_1 = require(\"../Constants\");\nfunction getDeleteUomRatesCommand() {\n    return {\n        title: Constants_1.Translation.UomRates.Delete,\n        code: Constants_1.Translation.UomRates.Delete,\n        icon: \"trash\",\n        execute(list) {\n            list.removeSelectedRows();\n            list.refresh();\n        }\n    };\n}\nexports.getDeleteUomRatesCommand = getDeleteUomRatesCommand;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UomRatesListExtender = void 0;\nconst Constants_1 = require(\"Constants\");\nconst UOMRates_1 = require(\"Commands/UOMRates\");\nclass UomRatesListExtender {\n    static init(list) {\n        var objCode = list.getObject().getCode();\n        if (objCode != Constants_1.DbSchema.SKU_UOMRates)\n            return;\n        const deleteUomRatesCmd = (0, UOMRates_1.getDeleteUomRatesCommand)();\n        list.addCommand({\n            title: deleteUomRatesCmd.title,\n            icon: deleteUomRatesCmd.icon,\n            order: -1,\n            execute: () => deleteUomRatesCmd.execute(list),\n            enabled: () => list.getSelectedRows().length > 0\n        });\n    }\n}\nexports.UomRatesListExtender = UomRatesListExtender;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Translation = exports.DbSchema = void 0;\nvar DbSchema;\n(function (DbSchema) {\n    DbSchema[\"BillOfMaterial\"] = \"uom.BillOfMaterial\";\n    DbSchema[\"SKU_UOMRates\"] = \"uom.SKU_UOMRates\";\n    DbSchema[\"UnitOfMeasure_ext\"] = \"uom.UnitOfMeasure_ext\";\n    DbSchema[\"UnitOfMeasure\"] = \"uom.UnitOfMeasure\";\n    DbSchema[\"UOM_MetricRates\"] = \"uom.UOM_MetricRates\";\n    DbSchema[\"SKU_UOMBase\"] = \"uom.SKU_UOMBase\";\n    DbSchema[\"RecalculationRule\"] = \"uom.RecalculationRule\";\n})(DbSchema = exports.DbSchema || (exports.DbSchema = {}));\nexports.Translation = {\n    UomRates: {\n        Delete: \"uom:DeleteUomRates\"\n    }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst mdt_client_1 = require(\"mdt-client\");\nconst Constants_1 = require(\"Constants\");\nconst UomRatesListExtender_1 = require(\"UomRatesListExtender\");\nconst UomFormExtender_1 = require(\"UomFormExtender\");\nconst listOptions = {\n    merge: {\n        hideCopy: true,\n        hideMerge: true\n    }\n};\nmdt_client_1.ListService.onCreate((list) => {\n    if (!Object.values(Constants_1.DbSchema).includes(list.getObject().getCode()))\n        return;\n    list.setExtOptions(listOptions);\n});\nmdt_client_1.ListService.onCreate((list) => {\n    UomRatesListExtender_1.UomRatesListExtender.init(list);\n});\nmdt_client_1.FormService.onCreate((form) => {\n    UomFormExtender_1.UomFormExtender.init(form);\n});\n(0, mdt_client_1.registerModule)(() => { }, { name: \"uom\" });\n"],"names":[],"sourceRoot":""}